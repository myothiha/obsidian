
# Introduction

Though LLMs excel at natural language processing and generation, its knowledge are limited to their training corpus. They are unable to answer or hallucinate when they have to perform tasks which require knowledge beyond their their internal knowledge. Retrieval Augmented Generation is technique that can help LLMs to cover come that limitation by retrieving knowledge from the external knowledge source and provide them to LLMs as the contextual information. LLM can now access the external knowledge required to perform the tasks.

The product search feature of the E-commerce systems is the essential features since it is the interface where user can access their desired products. Showing all the products relevant to the user search query is essential to ensure customer satisfaction and promote sales of all products. However, most users' queries are not simple keywords like laptop, earphones that can map to exact product name to categories. They might not even know what they're searching for. For example, a query can be "a powerful computer for an AI professional" which required understanding of unstructured product knowledge to find relevant products to the queries. The power of LLM is understand and process un-structure natural language and RAG provide the ability to integrate external product knowledge into LLMs to implement a powerful semantic product search in E-commerce systems.

# Problem Statement

The research is for developing a system that integrate Retrieval Augmented Generation with LLM into an E-commerce system with 4 million products, 14 million offers and 2 million daily search queries across 600 stores. 

# Objectives

In order to make sure the product is practical and suable in the real world context, there are several objectives, we need to achieve. 
1. Make sure answers generated by Large Language Models (LLMs) are relevant and grounded to the internal product and offer data. 
2. Ensure 300 milli seconds or less response time for each user query.
3. Minimize energy consumption  when deploying in-house LLM.
4. Assess whether external LLM services can be used cost-effectively at scale.
5. Implement a hybrid architecture combining traditional search for short queries and LLMs for longer ones for efficient computation. 
6. **Conduct a critical assessment of commercial solutions (e.g. Google Vertex AI Agent Builder) to benchmark against the proposed solution.** 
# Background

RAG systems involve two main components: a retriever and a generator. When a user provide a complete / partial query, a retriever extract knowledge from the sources that is relevant to the input and provide it to the LLM to generate answer to the query [1]. Depending on those component, RAG researches have four directions in general: retriever oriented, generator oriented, hybrid and robustness oriented approaches.  Retriever oriented RAG system focus on optimizing the retriever part of the system by refining input query, enhancing retriever architecture, filtering irrelevant information from the passive, and compressing long information into compact efficient representation. 

Similarly, generator based RAG system focus on generator part. The common pattern involve Faithfulness awareness decoding, context compression, utility filtering and generation control [1].  They improve RAG generator by refining model's output, making sure the output is grounded in the retrieved passage, compressing retriever output so that it fit the context window of LLM, adjust reranking based on the task so that only knowledge relevant to the task is remained. 

# Propose Approach

# Dataset

# Evaluation

We need to evaluate perform several evaluation on different components and different aspect of the proposed to make sure it usable in the real world E-commerce setting. There are several evaluation dimension for this system.
1. Context Relevance: evaluate how the proposed system fetch products and offers relevant to the user queries. We can use nDCG@10, MRR, Success@1, Recall@k for the measurement of relevancy.
2. Efficiency: evaluate average response times and energy consumption for the queries. 
3. Robustness: check the noise tolerance of the proposed system.
4. Cost & Throughput: Euro per 1k queries, tokens/query for paid LLMs. 
5. 


[1] C. Sharma, “Retrieval-Augmented Generation: A Comprehensive Survey of Architectures, Enhancements, and Robustness Frontiers,” May 28, 2025, arXiv: arXiv:2506.00054. doi: 10.48550/arXiv.2506.00054.
[2] F. Sun et al., “A Product-Aware Query Auto-Completion Framework for E-Commerce Search via Retrieval-Augmented Generation Method,” 2024.
[3] K. Guan, Q. Cao, Y. Sun, X. Wang, and R. Song, “BSharedRAG: Backbone Shared Retrieval-Augmented Generation for the E-commerce Domain,” Sept. 30, 2024, arXiv: arXiv:2409.20075. doi: 10.48550/arXiv.2409.20075.



